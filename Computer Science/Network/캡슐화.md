## 캡슐화

[참고 문서](https://velog.io/@p0tat0_chip/L3-%EA%B3%84%EC%B8%B5%EC%9D%98-%EA%B8%B0%EB%B3%B8)

<img src="https://mblogthumb-phinf.pstatic.net/MjAyMjA0MTVfMTkx/MDAxNjUwMDE5NDUxNzQ3.jmOUePg5hxBuaaG8X7mMQPGIQ_G3KTwIdAdu3OJn8BQg.OvsWZAF5F8DCCOxcMlaOKfyogpH3Th2zFBALMKNarHkg.JPEG.jhc9639/3.JPG?type=w800">

<br>

##### 캡슐화와 역캡슐화

> 비유
> - 물건을 포장해서 택배로 쏙 넣었다.
> - 쏙 넣었다는 의미에서 몇 가지 특징이 있다.
>   - 어떤 단위로 바꿨다. → 단위화했다.
>     - 택배를 보낼 때 박스 단위로 만든다.
>   - 안에 어떤 것이 들어있는지는 모른다.
>     - 택배 안에 들어있는 것이 책인지 음식인지 알 수 없다.
>     - 보안적으로 봤을 때 보이지 않는다.
>     - 정확히는 보이지 않는 건 사실은 아니지만, 단위 안에 넣어서 못 보게 하겠다는 의도가 포함되어있다.

1. L2 Frame 내부에 L3 IP Packet이 있다.   
   → IP Packet 통째로 L2 Frame의 Payload가 된다.
2. L3 IP Packet 내부에는 L4 계층의 데이터(Segment)가 된다.
3. L4 → L3 → L2 흐름으로 하나씩 포장하는 것이 캡슐화(Encapsulation)이다.
4. L2 → L3 → L4 흐름으로 하나씩 꺼내는 것이 역캡슐화(Decapsulation)이다.

<br>

<img src="https://velog.velcdn.com/images/p0tat0_chip/post/f7a11441-398d-4af0-a05f-3b6057a2a69f/image.png">

<br>

##### 송신 측

> 송신하는 쪽에선 항상 캡슐화(Encapsulation)이 일어난다.

